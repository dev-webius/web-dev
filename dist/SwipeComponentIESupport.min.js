!function(){HTMLElement.prototype.swipe=function(e){var o=this.swipeComponent;if(void 0===o){if(null==e||"object"!=typeof e)return void console.error("SwipeComponent :: properties required.");if(void 0===e.event)return void console.error("SwipeComponent :: event property required.");if("function"!=typeof e.event)return void console.error("SwipeComponent :: event property must be function.");e.target=this,this.swipeComponent=new t(e)}else{if("string"!=typeof e)return void console.error("SwipeComponent :: input swipe action command.");switch(e){case"enable":o.enable();break;case"disable":o.disable();break;case"destroy":o.disable(),delete this.swipeComponent;break;default:console.error("SwipeComponent :: swipe command '"+e+"' not found.")}}};var e=void 0===performance.now?Date.now:performance.now.bind(performance);function t(t){function o(t){var o,n;if(t.constructor===MouseEvent)o=t.clientX,n=t.clientY;else{var i=t.touches[0];o=i.clientX,n=i.clientY,v.touchId=i.identifier}v.swipe=e(),v.posX=o,v.posY=n,v.moveX=0,v.moveY=0,v.distance=0,v.duration=0,v.direction="",c("start")}function n(o){if(void 0!==v.swipe){var n,i,r,E;if(o.constructor===MouseEvent)n=o.clientX,i=o.clientY;else{var p=a(o.touches);n=p.clientX,i=p.clientY;var l=d.getBoundingClientRect();(p.clientX<l.left||p.clientX>l.right||p.clientY<l.top||p.clientY>l.bottom||p.clientX<0||p.clientX>window.innerWidth||p.clientY<0||p.clientY>window.innerHeight)&&(v.over=!0)}r=v.moveX,E=v.moveY,v.moveX=n-v.posX,v.moveY=i-v.posY,v.lastX=Math.abs(v.moveX-r),v.lastY=Math.abs(v.moveY-E),v.distance=Math.max(Math.abs(v.moveX),Math.abs(v.moveY)),v.duration=e()-v.swipe,v.direction="",v.moveX>0&&(v.direction+="right"),v.moveX<0&&(v.direction+="left"),v.moveY>0&&(v.direction+=(""!==v.direction?" ":"")+"bottom"),v.moveY<0&&(v.direction+=(""!==v.direction?" ":"")+"top"),c("move"),v.over&&s(),o.cancelable&&("both"===t.direction&&o.preventDefault(),"horizontal"===t.direction&&v.lastY-v.lastX<=t.cancelRange&&o.preventDefault(),"vertical"===t.direction&&v.lastX-v.lastY<=t.cancelRange&&o.preventDefault())}}function i(t){if(void 0!==v.swipe){if(t.constructor!==MouseEvent&&null!==a(t.touches))return;v.duration=e()-v.swipe,s()}}function r(e){e.preventDefault()}function s(){c(v.distance>=t.threshold?"end":"cancel"),v={}}function c(e){t.event(e,v.direction,v.distance,v.duration,{x:v.moveX,y:v.moveY},{x:v.posX,y:v.posY})}function a(e){if(void 0===v.touchId)return null;for(var t=0;t<e.length;t++)if(e[t].identifier===v.touchId)return e[t];return null}this.enable=function(){d.addEventListener(this.EVENT_START,o),d.addEventListener(this.EVENT_MOVE,n),d.addEventListener(this.EVENT_END,i),d.addEventListener(this.EVENT_OUT,i),d.addEventListener(this.EVENT_DRAGSTART,r),d.addEventListener(this.EVENT_SELECTSTART,r),window.addEventListener(this.EVENT_OUT,i)},this.disable=function(){d.removeEventListener(this.EVENT_START,o),d.removeEventListener(this.EVENT_MOVE,n),d.removeEventListener(this.EVENT_END,i),d.removeEventListener(this.EVENT_OUT,i),d.removeEventListener(this.EVENT_DRAGSTART,r),d.removeEventListener(this.EVENT_SELECTSTART,r),window.removeEventListener(this.EVENT_OUT,i)},t.event=t.event.bind(t.target),t.direction=t.direction||this.DEFAULT_DIRECTION,t.threshold=t.threshold||this.THRESHOLD,t.cancelRange=this.CANCEL_RANGE;var d=t.target,v={};return this.enable(),this}t.prototype.toString=function(){return"SwipeComponent"},t.prototype.EVENT_START=void 0!==window.ontouchstart?"touchstart":"mousedown",t.prototype.EVENT_MOVE=void 0!==window.ontouchmove?"touchmove":"mousemove",t.prototype.EVENT_END=void 0!==window.ontouchend?"touchend":"mouseup",t.prototype.EVENT_DRAGSTART="dragstart",t.prototype.EVENT_SELECTSTART="selectstart",t.prototype.EVENT_OUT="mouseleave",t.prototype.DEFAULT_DIRECTION="horizontal",t.prototype.THRESHOLD=75,t.prototype.CANCEL_RANGE=2}();